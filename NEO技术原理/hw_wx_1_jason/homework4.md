
#### 描述节点之间的握手协议

##### 基本步骤

* 首先 neo 节点会与种子节点连接。

* 节点连接成功后，首先会发送 version 消息，并等待接收 version 消息。version中携带区块高度。
  
*  然后会发送 verack 消息，并等待接收 verack 消息，完成握手。

#### 状态检查

* 如果自己的区块头高度小于对方的区块高度，则向对方发送 getheaders 消息。

* 对方收到 getheaders 消息后，通过 headers 消息应答发送不超过2000个区块头。

* 如果区块头已经同步完成，而区块高度低于对方，则向对方发送 getblocks 消息。

* 对方收到 getblocks 消息后，通过 inv 消息应答发送不超过500个区块的哈希值。

* 收到 inv 消息后，通过哈希值判定本地是否需要。如果需要则发送 getdata 消息申请区块。

* 对方收到 getdata 消息之后，发送 block 消息发送区块的完整内容。
